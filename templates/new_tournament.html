{% extends "base.html" %}

{% block title %}Create New Tournament{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
    <div class="px-4 py-6 sm:px-0">
        <div class="bg-white shadow overflow-hidden sm:rounded-lg">
            <div class="px-4 py-5 sm:px-6 border-b border-gray-200">
                <h3 class="text-lg leading-6 font-medium text-gray-900">
                    Create New Tournament
                </h3>
                <p class="mt-1 max-w-2xl text-sm text-gray-500">
                    Fill out the form below to create a new tournament.
                </p>
            </div>
            
            <form method="POST" action="{{ url_for('create_tournament') }}" class="px-4 py-5 sm:p-6">
                <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
                    <!-- Tournament Name -->
                    <div class="sm:col-span-6">
                        <label for="name" class="block text-sm font-medium text-gray-700">Tournament Name</label>
                        <div class="mt-1">
                            <input type="text" name="name" id="name" required
                                   class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"
                                   placeholder="Summer Cup 2025">
                        </div>
                    </div>
                    
                    <!-- Tournament Dates -->
                    <div class="sm:col-span-3">
                        <label for="start_date" class="block text-sm font-medium text-gray-700">Start Date</label>
                        <div class="mt-1">
                            <input type="date" name="start_date" id="start_date" required
                                   class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md">
                        </div>
                    </div>
                    
                    <div class="sm:col-span-3">
                        <label for="end_date" class="block text-sm font-medium text-gray-700">End Date</label>
                        <div class="mt-1">
                            <input type="date" name="end_date" id="end_date" required
                                   class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md">
                        </div>
                    </div>
                    
                    <!-- All Teams -->
                    <div class="sm:col-span-6">
                        <label for="all_teams" class="block text-sm font-medium text-gray-700">All Teams (one per line)</label>
                        <div class="mt-1">
                            <textarea name="all_teams" id="all_teams" rows="8" required
                                      class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md"
                                      placeholder="Team 1&#10;Team 2&#10;Team 3&#10;Team 4&#10;Team 5&#10;Team 6&#10;Team 7&#10;Team 8"></textarea>
                        </div>
                    </div>
                    
                    <!-- Number of Groups -->
                    <div class="sm:col-span-6">
                        <label for="num_groups" class="block text-sm font-medium text-gray-700">Number of Groups</label>
                        <div class="mt-1">
                            <select name="num_groups" id="num_groups" required
                                    class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                            </select>
                        </div>
                        <p class="mt-2 text-sm text-gray-500">Teams will be distributed evenly across groups.</p>
                    </div>
                </div>
                
                <div class="pt-5">
                    <div class="flex justify-end">
                        <a href="/" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Cancel
                        </a>
                        <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Create Tournament
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set default dates
        const today = new Date();
        const endDate = new Date();
        endDate.setDate(today.getDate() + 14); // Default end date is 2 weeks from today
        
        document.getElementById('start_date').valueAsDate = today;
        document.getElementById('end_date').valueAsDate = endDate;
    });
</script>
{% endblock %}
